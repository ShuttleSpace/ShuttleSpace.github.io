import{_ as i,c as a,a2 as t,o as e}from"./chunks/framework.CQcFAaaG.js";const c=JSON.parse('{"title":"Configuration","description":"","frontmatter":{},"headers":[],"relativePath":"guide/configuration.md","filePath":"guide/configuration.md"}'),n={name:"guide/configuration.md"};function l(h,s,p,k,o,r){return e(),a("div",null,s[0]||(s[0]=[t(`<h1 id="configuration" tabindex="-1">Configuration <a class="header-anchor" href="#configuration" aria-label="Permalink to &quot;Configuration&quot;">​</a></h1><p>Set compilation configuration before building project with command <code>xmake f|config</code>. If you want to known more options, please run: <code>xmake f --help</code>。</p><p class="tip"> You can use short or long command option, for example: <br> \`xmake f\` or \`xmake config\`.<br> \`xmake f -p linux\` or \`xmake config --plat=linux\`. </p><h3 id="current-host" tabindex="-1">Current Host <a class="header-anchor" href="#current-host" aria-label="Permalink to &quot;Current Host&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> xmake</span></span></code></pre></div><p>!&gt; Xmake will detect the current host platform automatically and build project.</p><h3 id="linux" tabindex="-1">Linux <a class="header-anchor" href="#linux" aria-label="Permalink to &quot;Linux&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> xmake</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> f</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -p</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> linux</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [-a </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">i386</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">|</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">x86_64]</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> xmake</span></span></code></pre></div><h3 id="android" tabindex="-1">Android <a class="header-anchor" href="#android" aria-label="Permalink to &quot;Android&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> xmake</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> f</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -p</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> android</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --ndk=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">~</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">/files/android-ndk-r10e/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [-a </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">armeabi-v7a</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">|</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">arm64-v8a]</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> xmake</span></span></code></pre></div><p>If you want to set the other android toolchains, you can use <a href="#-bin">--bin</a> option.</p><p>For example:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> xmake</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> f</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -p</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> android</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --ndk=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">~</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">/files/android-ndk-r10e/</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -a</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> arm64-v8a</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --bin=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">~</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">/files/android-ndk-r10e/toolchains/aarch64-linux-android-4.9/prebuilt/darwin-x86_64/bin</span></span></code></pre></div><p>The <a href="#-bin">--bin</a> option is used to set <code>bin</code> directory of toolchains.</p><p>!&gt; Please attempt to set <code>--arch=</code> option if it had failed to check compiler.</p><h3 id="iphoneos" tabindex="-1">iPhoneOS <a class="header-anchor" href="#iphoneos" aria-label="Permalink to &quot;iPhoneOS&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> xmake</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> f</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -p</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> iphoneos</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [-a </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">armv7</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">|</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">armv7s</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">|</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">arm64</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">|</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">i386</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">|</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">x86_64]</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> xmake</span></span></code></pre></div><p>Since the emulator on the m1 device also supports the arm64 architecture, it is no longer possible to distinguish the emulator from the arch alone. Therefore, in version 2.6.5, we have added a new parameter to distinguish between emulator targets and emulator targets.</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> xmake</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> f</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -p</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> iphoneos</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --appledev=simulator</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> xmake</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> f</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -p</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> watchos</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --appledev=simulator</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> xmake</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> f</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -p</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> appletvos</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --appledev=simulator</span></span></code></pre></div><h3 id="mac-catalyst" tabindex="-1">Mac Catalyst <a class="header-anchor" href="#mac-catalyst" aria-label="Permalink to &quot;Mac Catalyst&quot;">​</a></h3><p>We can also specify to build Mac Catalyst programs.</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> xmake</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> f</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --appledev=catalyst</span></span></code></pre></div><h3 id="windows" tabindex="-1">Windows <a class="header-anchor" href="#windows" aria-label="Permalink to &quot;Windows&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> xmake</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> f</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -p</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> windows</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [-a </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">x86</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">|</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">x64]</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> xmake</span></span></code></pre></div><h3 id="mingw" tabindex="-1">MinGW <a class="header-anchor" href="#mingw" aria-label="Permalink to &quot;MinGW&quot;">​</a></h3><p>In addition to supporting Msys2/MingW, MingW for macOS/linux, xmake also supports the llvm-mingw tool chain, which can switch the arm/arm64 architecture to compile.</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> xmake</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> f</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -p</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> mingw</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --sdk=/usr/local/i386-mingw32-4.3.0/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [-a </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">i386</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">|</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">x86_64</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">|</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">arm</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">|</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">arm64]</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> xmake</span></span></code></pre></div><h3 id="wasm-webassembly" tabindex="-1">WASM (WebAssembly) <a class="header-anchor" href="#wasm-webassembly" aria-label="Permalink to &quot;WASM (WebAssembly)&quot;">​</a></h3><p>This platform is used to compile WebAssembly programs (emcc toolchain is used internally). Before switching this platform, we need to enter the Emscripten toolchain environment to ensure that emcc and other compilers are available.</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> xmake</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> f</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -p</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> wasm</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> xmake</span></span></code></pre></div><p>Xmake also supports Qt for wasm compilation, you only need:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> xmake</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> f</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -p</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> wasm</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [--qt=~/Qt]</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> xmake</span></span></code></pre></div><p>The <code>--qt</code> parameter setting is optional, usually xmake can detect the sdk path of qt.</p><p>One thing to note is that there is a correspondence between the versions of Emscripten and Qt SDK. If the version does not match, there may be compatibility issues between Qt/Wasm.</p><p>Regarding the version correspondence, you can see: <a href="https://wiki.qt.io/Qt_for_WebAssembly" target="_blank" rel="noreferrer">https://wiki.qt.io/Qt_for_WebAssembly</a></p><p>For more details, please see: <a href="https://github.com/xmake-io/xmake/issues/956" target="_blank" rel="noreferrer">https://github.com/xmake-io/xmake/issues/956</a></p><p>In addition to emscripten, there is a common wasi-sdk toolchain for building wasi-based programs, and we just need to switch between toolchains.</p><div class="language-console vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">console</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$ xmake f -p wasm --toolchain</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">wasi</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$ xmake</span></span></code></pre></div><h3 id="apple-watchos" tabindex="-1">Apple WatchOS <a class="header-anchor" href="#apple-watchos" aria-label="Permalink to &quot;Apple WatchOS&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> xmake</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> f</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -p</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> watchos</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [-a </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">i386</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">|</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">armv7k]</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> xmake</span></span></code></pre></div><h3 id="harmonyos" tabindex="-1">HarmonyOS <a class="header-anchor" href="#harmonyos" aria-label="Permalink to &quot;HarmonyOS&quot;">​</a></h3><p>Version 2.9.1 adds native toolchain compilation support for the Hongmeng OS platform:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> xmake</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> f</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -p</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> harmony</span></span></code></pre></div><p>xmake will automatically detect the default SDK path, but you can also specify the Harmony SDK path.</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> xmake</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> f</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -p</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Harmony</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --sdk=/Users/ruki/Library/Huawei/Sdk/openharmony/10/native</span></span></code></pre></div><h2 id="cross-compilation" tabindex="-1">Cross Compilation <a class="header-anchor" href="#cross-compilation" aria-label="Permalink to &quot;Cross Compilation&quot;">​</a></h2><p>Generally, if we need to compile and generate object files that can be run on other devices in the current pc environment, we need to compile and generate them through the corresponding cross-compilation tool chain, such as compiling linux programs on win/macos, or Compile object files of other embedded devices, etc.</p><p>The usual cross-compilation tool chain is based on gcc/clang, and most of them have a structure similar to the following:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>/home/toolchains_sdkdir</span></span>
<span class="line"><span>   - bin</span></span>
<span class="line"><span>       - arm-linux-armeabi-gcc</span></span>
<span class="line"><span>       - arm-linux-armeabi-ld</span></span>
<span class="line"><span>       - ...</span></span>
<span class="line"><span>   - lib</span></span>
<span class="line"><span>       - libxxx.a</span></span>
<span class="line"><span>   - include</span></span>
<span class="line"><span>       - xxx.h</span></span></code></pre></div><p>Each toolchain has a corresponding include/lib directory, which is used to place some system libraries and header files, such as libc, stdc++, etc., and a series of tools for compiling the tool chain are placed under the bin directory. E.g:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>arm-linux-armeabi-ar</span></span>
<span class="line"><span>arm-linux-armeabi-as</span></span>
<span class="line"><span>arm-linux-armeabi-c++</span></span>
<span class="line"><span>arm-linux-armeabi-cpp</span></span>
<span class="line"><span>arm-linux-armeabi-g++</span></span>
<span class="line"><span>arm-linux-armeabi-gcc</span></span>
<span class="line"><span>arm-linux-armeabi-ld</span></span>
<span class="line"><span>arm-linux-armeabi-nm</span></span>
<span class="line"><span>arm-linux-armeabi-strip</span></span></code></pre></div><p>The <code>arm-linux-armeabi-</code> prefix is cross, which is used to mark the target platform and architecture, and is mainly used to distinguish it from the host&#39;s own gcc/clang.</p><p>The gcc/g++ inside is the c/c++ compiler, which can also be used as a linker. When linking, it will internally call ld to link, and automatically add some c++ libraries. Cpp is a preprocessor, as is an assembler, ar is used to generate a static library, and strip is used to crop out some symbol information, making the target program smaller. nm is used to view the list of exported symbols.</p><h3 id="automatic-detection-and-compilation" tabindex="-1">Automatic detection and compilation <a class="header-anchor" href="#automatic-detection-and-compilation" aria-label="Permalink to &quot;Automatic detection and compilation&quot;">​</a></h3><p>If our cross-compilation tool chain is the above structure, Xmake will automatically detect and identify the structure of the SDK, extract the cross and include/lib path location, users usually do not need to do additional parameter settings, just configure the SDK The root directory can be compiled, for example:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> xmake</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> f</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -p</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> cross</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --sdk=/home/toolchains_sdkdir</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> xmake</span></span></code></pre></div><p>Among them, <code>-p cross</code> is used to specify that the current platform is a cross-compilation platform, and <code>--sdk=</code> is used to specify the root directory of the cross toolchain.</p><p>Note: We can also specify the <code>-p linux</code> platform to configure cross compilation, the effect is the same, the only difference is that the name of the linux platform is additionally identified, which is convenient for <code>xmake.lua</code> to determine the platform by<code>is_plat (&quot;linux&quot;)</code> .</p><p>At this time, Xmake will automatically detect the prefix name cross of gcc and other compilers: <code>arm-linux-armeabi-</code>, and when compiling, it will also automatically add search options for<code> link library</code> and <code>header files</code> :</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>-I/home/toolchains_sdkdir/include</span></span>
<span class="line"><span>-L/home/toolchains_sdkdir/lib</span></span></code></pre></div><p>These are handled automatically by Xmake, there is no need to configure them manually.</p><h3 id="manually-configure-and-compile" tabindex="-1">Manually configure and compile <a class="header-anchor" href="#manually-configure-and-compile" aria-label="Permalink to &quot;Manually configure and compile&quot;">​</a></h3><p>If the above automatic detection fails to completely compile for some tool chains, you need to manually set some configuration parameters related to cross compilation to adjust to these special tool chains. I will explain how to configure them one by one.</p><h3 id="set-toolchain-bin-directory" tabindex="-1">Set toolchain bin directory <a class="header-anchor" href="#set-toolchain-bin-directory" aria-label="Permalink to &quot;Set toolchain bin directory&quot;">​</a></h3><p>For the irregular tool chain directory structure, by simply setting the <a href="https://xmake.io/#/zh-cn/guide/configuration?id=-sdk" target="_blank" rel="noreferrer">--sdk</a> option, it is impossible to completely detect the passing situation Next, you can continue to set the location of the bin directory of the toolchain through this option.</p><p>For example: for some special cross toolchains, the compiler bin directory is not in the <code>/home/toolchains_sdkdir/bin</code> position, but is instead in <code>/usr/opt/bin</code></p><p>At this time, we can add the parameter setting of the bin directory on the basis of setting the sdk parameter to adjust the bin directory of the tool chain.</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> xmake</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> f</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -p</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> cross</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --sdk=/home/toolchains_sdkdir</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --bin=/usr/opt/bin</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> xmake</span></span></code></pre></div><h3 id="set-tool-prefix-for-cross-toolchain" tabindex="-1">Set tool prefix for cross toolchain <a class="header-anchor" href="#set-tool-prefix-for-cross-toolchain" aria-label="Permalink to &quot;Set tool prefix for cross toolchain&quot;">​</a></h3><p>Like aarch64-linux-android-, usually if you configure --sdk or --bin, Xmake will automatically detect it, you don&#39;t need to set it manually.</p><p>But for some very special tool chains, if there are multiple cross prefix tool bins in a directory at the same time, you need to manually set this configuration to distinguish which bin you need to choose.</p><p>For example, there are two different compilers in the bin directory of toolchains:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>/opt/bin</span></span>
<span class="line"><span>  - armv7-linux-gcc</span></span>
<span class="line"><span>  - aarch64-linux-gcc</span></span></code></pre></div><p>We now want to choose the armv7 version, then we can append <code>--cross=</code> to configure the compiler tool prefix name, for example:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> xmake</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> f</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -p</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> cross</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --sdk=/usr/toolsdk</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --bin=/opt/bin</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --cross=armv7-linux-</span></span></code></pre></div><h3 id="set-the-c-c-compiler" tabindex="-1">Set the c/c++ compiler <a class="header-anchor" href="#set-the-c-c-compiler" aria-label="Permalink to &quot;Set the c/c++ compiler&quot;">​</a></h3><p>If you want to continue to subdivide and select compilers, continue to add relevant compiler options, for example:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> xmake</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> f</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -p</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> cross</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --sdk=/user/toolsdk</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --cc=armv7-linux-clang</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --cxx=armv7-linux-clang++</span></span></code></pre></div><p>Of course, we can also specify the full path of the compiler.</p><p><code>--cc</code> is used to specify the name of the c compiler, and <code>--cxx</code> is used to specify the name of the c++ compiler.</p><p>Note: If the cc/cxx environment variable exists, the value specified in the current environment variable will be used first.</p><p>If the specified compiler name is not a name recognized by Xmake (with gcc, clang, etc.), then the compiler tool detection will fail.</p><p>At this time we can pass:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">xmake</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> f</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --cxx=clang++@/home/xxx/c++mips.exe</span></span></code></pre></div><p>Set the c ++ mips.exe compiler as the clang ++-like way to compile.   That is to say, while specifying the compiler as <code>c++mips.exe</code>, tell Xmake that it is basically the same as clang ++ usage and parameter options.</p><h3 id="set-the-c-c-linker" tabindex="-1">Set the c/c++ linker <a class="header-anchor" href="#set-the-c-c-linker" aria-label="Permalink to &quot;Set the c/c++ linker&quot;">​</a></h3><p>If you want to continue to subdivide and select the linker, continue to add related linker options, for example:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> xmake</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> f</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -p</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> cross</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --sdk=/user/toolsdk</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --ld=armv7-linux-clang++</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --sh=armv7-linux-clang++</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --ar=armv7-linux-ar</span></span></code></pre></div><p>ld specifies the executable program linker, sh specifies the shared library program linker, and ar specifies the archiver that generates the static library.</p><p>Note: If there are ld/sh/ar environment variables, the value specified in the current environment variable will be used first.</p><h3 id="set-header-file-and-library-search-directory" tabindex="-1">Set header file and library search directory <a class="header-anchor" href="#set-header-file-and-library-search-directory" aria-label="Permalink to &quot;Set header file and library search directory&quot;">​</a></h3><p>If there are additional other include/lib directories in the SDK that are not in the standard structure, resulting in cross compilation can not find the library and header files, then we can append the search path through <code>--includedirs</code> and<code> --linkdirs</code>, and then Add additional link libraries via <code>--links</code>.</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> xmake</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> f</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -p</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> cross</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --sdk=/usr/toolsdk</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --includedirs=/usr/toolsdk/xxx/include</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --linkdirs=/usr/toolsdk/xxx/lib</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --links=pthread</span></span></code></pre></div><p>Note: If you want to specify multiple search directories, you can use <code>:</code> or <code>;</code> to separate, which is the path separator of different host platforms, use <code>:</code> under linux / macos, and <code>;</code> under win.</p><h3 id="set-compile-and-link-options" tabindex="-1">Set compile and link options <a class="header-anchor" href="#set-compile-and-link-options" aria-label="Permalink to &quot;Set compile and link options&quot;">​</a></h3><p>We can also configure some additional compilation and linking options through <code>--cflags</code>,<code> --cxxflags</code>, <code>--ldflags</code>, <code>--shflags</code> and <code>--arflags</code> according to the actual situation.</p><ul><li>cflags: specify c compilation parameters</li><li>cxxflags: specify c ++ compilation parameters</li><li>cxflags: specify c / c ++ compilation parameters</li><li>asflags: specify assembler compilation parameters</li><li>ldflags: specify executable program link parameters</li><li>shflags: specify dynamic library program link parameters</li><li>arflags: specify the generation parameters of the static library</li></ul><p>e.g:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> xmake</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> f</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -p</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> cross</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --sdk=/usr/toolsdk</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --cflags=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;-DTEST -I/xxx/xxx&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --ldflags=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;-lpthread&quot;</span></span></code></pre></div><h3 id="project-description-settings" tabindex="-1">Project description settings <a class="header-anchor" href="#project-description-settings" aria-label="Permalink to &quot;Project description settings&quot;">​</a></h3><h4 id="set-toolchains" tabindex="-1">set_toolchains <a class="header-anchor" href="#set-toolchains" aria-label="Permalink to &quot;set_toolchains&quot;">​</a></h4><p>This sets up different tool chains for a specific target individually. Unlike set_toolset, this interface is an overall switch for a complete tool chain, such as cc/ld/sh and a series of tool sets.</p><p>This is also a recommended practice, because most compiler tool chains like gcc/clang, the compiler and the linker are used together. To cut it, you have to cut it as a whole. Separate and scattered switch settings will be cumbersome.</p><p>For example, we switch the test target to two tool chains of clang+yasm:</p><div class="language-lua vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">lua</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">target</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;test&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    set_kind</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;binary&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    add_files</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;src/*.c&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    set_toolchains</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;clang&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;yasm&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><h4 id="set-toolset" tabindex="-1">set_toolset <a class="header-anchor" href="#set-toolset" aria-label="Permalink to &quot;set_toolset&quot;">​</a></h4><p>If you feel that it is more complicated to configure through the command line each time, some configurations can be pre-configured in <code>xmake.lua</code> to simplify the command configuration. For example, the specification of the compiler can be set individually for each target through set_toolset.</p><div class="language-lua vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">lua</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">target</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;test&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    set_kind</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;binary&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    set_toolset</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;cxx&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;clang&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    set_toolset</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;ld&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;clang++&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><p>Force the compiler and linker of the test target to use the clang compiler, or specify the compiler name or path in the cross-compilation tool chain.</p><h4 id="set-config" tabindex="-1">set_config <a class="header-anchor" href="#set-config" aria-label="Permalink to &quot;set_config&quot;">​</a></h4><p>We can also set the default value of each configuration parameter in the <code>xmake f/config</code> command through <code>set_config</code>. This is a global api and will take effect for each target.</p><div class="language-lua vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">lua</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">set_config</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;cflags&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;-DTEST&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">set_config</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;sdk&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;/home/xxx/tooksdk&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">set_config</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;cc&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;gcc&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">set_config</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;ld&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;g++&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><p>However, we can still use <code>xmake f --name = value</code> to modify the default configuration in <code>xmake.lua</code>.</p><h3 id="custom-build-platform" tabindex="-1">Custom build platform <a class="header-anchor" href="#custom-build-platform" aria-label="Permalink to &quot;Custom build platform&quot;">​</a></h3><p>If the target program has a corresponding platform to be specified after a cross tool chain is compiled, and it needs to be configured in <code>xmake.lua</code> according to different cross compilation platforms, and some additional compilation parameters need to be configured, then the <code>-p cross</code> setting above Can not meet the demand.</p><p>In fact, the <code>-p/-plat=</code> parameter can also be set to other custom values. You only need to maintain the corresponding relationship with <code>is_plat</code>. All non-built-in platform names will default to cross-compilation mode, for example:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> xmake</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> f</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -p</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> myplat</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --sdk=/usr/local/arm-xxx-gcc/</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> xmake</span></span></code></pre></div><p>We passed in the myplat custom platform name as the current cross-toolchain compilation platform, and then we set the corresponding settings for this platform in <code>xmake.lua</code>:</p><div class="language-lua vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">lua</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">if</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> is_plat</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;myplat&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">then</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    add_defines</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;TEST&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">end</span></span></code></pre></div><p>In this way, Xmake can be easily extended to deal with various compilation platforms, users can extend their own support for freebsd, netbsd, sunos and other cross-compiling platforms.</p><p>I excerpted a cross-compilation configuration written before porting libuv, and intuitively feel:</p><div class="language-lua vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">lua</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">-- for dragonfly/freebsd/netbsd/openbsd platform</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">if</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> is_plat</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;dragonfly&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;freebsd&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;netbsd&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;openbsd&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">then</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    add_files</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;src/unix/bsd-ifaddrs.c&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    add_files</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;src/unix/freebsd.c&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    add_files</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;src/unix/kqueue.c&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    add_files</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;src/unix/posix-hrtime.c&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    add_headerfiles</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;(include/uv-bsd.h)&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">end</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">-- for sunos platform</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">if</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> is_plat</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;sunos&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">then</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    add_files</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;src/unix/no-proctitle.c&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    add_files</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;src/unix/sunos.c&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    add_defines</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;__EXTENSIONS_&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;_XOPEN_SOURCE=600&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    add_headerfiles</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;(include/uv-sunos.h)&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">end</span></span></code></pre></div><p>Then, we can switch these platforms to compile:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> xmake</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> f</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -p</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [dragonfly</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">|</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">freebsd</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">|</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">netbsd</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">|</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">openbsd</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">|</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sunos]</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --sdk=/home/arm-xxx-gcc/</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> xmake</span></span></code></pre></div><p>In addition, the built-in Linux platform also supports cross-compilation. If you do n’t want to configure other platform names, you can cross-compile as the linux platform.</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> xmake</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> f</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -p</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> linux</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --sdk=/usr/local/arm-xxx-gcc/</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> xmake</span></span></code></pre></div><p>As long as the <code>--sdk=</code> and other parameters are set, the cross-compilation mode of the Linux platform will be enabled.</p><h3 id="toolchain-configuration" tabindex="-1">Toolchain configuration <a class="header-anchor" href="#toolchain-configuration" aria-label="Permalink to &quot;Toolchain configuration&quot;">​</a></h3><p>For a complete list of tool chains, please execute the following command to view:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> xmake</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> show</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -l</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> toolchains</span></span></code></pre></div><p>!&gt; This feature requires v2.3.4 or later to support</p><p>The above describes the general cross-compilation toolchain configuration. If some specific toolchains need to be imported into additional scenarios such as <code>--ldflags/--includedirs</code>, it is more cumbersome Therefore, xmake also has some common tool chains built-in, which can save the complicated configuration process of cross-compilation tool chain, and only need to execute:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> xmake</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> f</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --toolchain=gnu-rm</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --sdk=/xxx/</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> xmake</span></span></code></pre></div><p>You can quickly switch the designated cross-compilation tool chain. If this tool chain needs to add some specific flags settings, it will be automatically set up to simplify configuration.</p><p>Among them, gnu-rm is the built-in GNU Arm Embedded Toolchain.</p><p>For example, we can also quickly switch from the entire gcc tool chain to the clang or llvm tool chain, no longer need to make <code>xmake f --cc=clang --cxx=clang --ld=clang++</code> one by one.</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> xmake</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> f</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --toolchain=clang</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> xmake</span></span></code></pre></div><p>or</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> xmake</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> f</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --toolchain=llvm</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --sdk=/xxx/llvm</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> xmake</span></span></code></pre></div><p>The specific tool chains supported by Xmake can be viewed with the following command:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> xmake</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> show</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -l</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> toolchains</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">xcode</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">         Xcode</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> IDE</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">vs</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">            VisualStudio</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> IDE</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">yasm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">          The</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Yasm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Modular</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Assembler</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">clang</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">         A</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> C</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> language</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> family</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> frontend</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> for</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> LLVM</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">go</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">            Go</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Programming</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Language</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Compiler</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">dlang</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">         D</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Programming</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Language</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Compiler</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sdcc</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">          Small</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Device</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> C</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Compiler</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">cuda</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">          CUDA</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Toolkit</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ndk</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">           Android</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> NDK</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">rust</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">          Rust</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Programming</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Language</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Compiler</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">llvm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">          A</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> collection</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> of</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> modular</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> and</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> reusable</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> compiler</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> and</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> toolchain</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> technologies</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">cross</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">         Common</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> cross</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> compilation</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> toolchain</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">nasm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">          NASM</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Assembler</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">gcc</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">           GNU</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Compiler</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Collection</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mingw</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">         Minimalist</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> GNU</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> for</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Windows</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">gnu-rm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        GNU</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Arm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Embedded</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Toolchain</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">envs</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">          Environment</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> variables</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> toolchain</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">fasm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">          Flat</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Assembler</span></span></code></pre></div><h4 id="custom-toolchain" tabindex="-1">Custom toolchain <a class="header-anchor" href="#custom-toolchain" aria-label="Permalink to &quot;Custom toolchain&quot;">​</a></h4><p>In addition, we can also customize the toolchain in <code>xmake.lua</code>, and then specify the switch through <code>xmake f --toolchain=myclang</code>, for example:</p><div class="language-lua vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">lua</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">toolchain</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;myclang&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    set_kind</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;standalone&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    set_toolset</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;cc&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;clang&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    set_toolset</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;cxx&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;clang&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;clang++&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    set_toolset</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;ld&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;clang++&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;clang&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    set_toolset</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;sh&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;clang++&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;clang&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    set_toolset</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;ar&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;ar&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    set_toolset</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;ex&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;ar&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    set_toolset</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;strip&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;strip&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    set_toolset</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;mm&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;clang&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    set_toolset</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;mxx&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;clang&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;clang++&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    set_toolset</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;as&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;clang&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    -</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> ...</span></span></code></pre></div><p>For details about this piece, you can go to the <a href="/xmake-docs/manual/custom_toolchain.html">Custom Toolchain</a>.</p><p>For more details, please see: <a href="https://github.com/xmake-io/xmake/issues/780" target="_blank" rel="noreferrer">#780</a></p><h4 id="mingw-toolchain" tabindex="-1">MingW Toolchain <a class="header-anchor" href="#mingw-toolchain" aria-label="Permalink to &quot;MingW Toolchain&quot;">​</a></h4><p>Compiling with the mingw toolchain is actually cross-compilation, but because this is more commonly used, Xmake specifically adds a mingw platform to quickly handle compilation using the mingw toolchain.</p><p>Therefore, Xmake&#39;s toolchain detection for mingw will be more perfect. Under macos, basically even the sdk path does not need to be configured, and can be directly detected, only need to switch to the mingw platform to compile.</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> xmake</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> f</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -p</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> mingw</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> xmake</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -v</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">configure</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    ld</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /usr/local/opt/mingw-w64/bin/x86_64-w64-mingw32-g++</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    ndk_stdcxx</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> true</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    plat</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> mingw</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    mingw</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /usr/local/opt/mingw-w64</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    buildir</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> build</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    arch</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> x86_64</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    xcode</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /Applications/Xcode.app</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    mode</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> release</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    cxx</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /usr/local/opt/mingw-w64/bin/x86_64-w64-mingw32-gcc</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    cross</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> x86_64-w64-mingw32-</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    theme</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> default</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    kind</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> static</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    ccache</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> true</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    host</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> macosx</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    clean</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> true</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    bin</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /usr/local/opt/mingw-w64/bin</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[  0%]: cache compiling.release src/main.cpp</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">/usr/local/bin/ccache</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /usr/local/opt/mingw-w64/bin/x86_64-w64-mingw32-gcc</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -c</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -fvisibility=hidden</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -O3</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -m64</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -o</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> build/.objs/test/mingw/x86_64/release/src/main.cpp.obj</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> src/main.cpp</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[100%]: linking.release test.exe</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">/usr/local/opt/mingw-w64/bin/x86_64-w64-mingw32-g++</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -o</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> build/mingw/x86_64/release/test.exe</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> build/.objs/test/mingw/x86_64/release/src/main.cpp.obj</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -s</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -fvisibility=hidden</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -m64</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">build</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ok!</span></span></code></pre></div><p>Here we have added the <code>-v</code> parameter and looked at the detailed compile commands and detected mingw toolchain configuration values, where cross is automatically detected as:<code> x86_64-w64-mingw32-</code>, and the bin directory is also automatically detected , As well as compilers and linkers.</p><p>Although it is not possible to automatically detect the sdk path on linux/win, we can also manually specify the sdk path. It should be noted that xmake specifically provides a <code>--mingw =</code> parameter for mingw to specify the tool chain root of mingw The directory has the same effect as <code>--sdk =</code>, but it can be set as a global configuration.</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> xmake</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> g</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --mingw=/home/mingwsdk</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> xmake</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> f</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -p</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> mingw</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> xmake</span></span></code></pre></div><p>After setting the <code>--mingw</code> root directory to the global configuration through the<code> xmake g/global</code> command, after each compilation and switching of the compilation platform, there is no need to specify an additional mingw toolchain path, which is convenient for use.</p><p>In addition, the usage of other tool chain configuration parameters is the same as that described above. For example, <code>--cross</code>,<code> --bin=</code>, etc. can be adjusted according to the actual needs of the environment. Own mingw tool chain.</p><p>xmake also supports the llvm-mingw tool chain, which can be switched to arm/arm64 architecture to compile.</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> xmake</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> f</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --mingw=/xxx/llvm-mingw</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -a</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> arm64</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> xmake</span></span></code></pre></div><h4 id="llvm-toolchain" tabindex="-1">LLVM Toolchain <a class="header-anchor" href="#llvm-toolchain" aria-label="Permalink to &quot;LLVM Toolchain&quot;">​</a></h4><p>The tool chain of llvm is relatively standard, only need to set the sdk configuration path to use:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> xmake</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> f</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -p</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> cross</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --toolchain=llvm</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --sdk=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;C:\\Program Files\\LLVM&quot;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> xmake</span></span></code></pre></div><h4 id="gnu-rm-toolchain" tabindex="-1">GNU-RM Toolchain <a class="header-anchor" href="#gnu-rm-toolchain" aria-label="Permalink to &quot;GNU-RM Toolchain&quot;">​</a></h4><p>toolchain downlaod url: <a href="https://developer.arm.com/tools-and-software/open-source-software/developer-tools/gnu-toolchain/gnu-rm/downloads#" target="_blank" rel="noreferrer">https://developer.arm.com/tools-and-software/open-source-software/developer-tools/gnu-toolchain/gnu-rm/downloads#</a></p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> xmake</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> f</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -p</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> cross</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --toolchain=gnu-rm</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --sdk=/xxx/cc-arm-none-eabi-9-2019-q4-major</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> xmake</span></span></code></pre></div><h4 id="tinyc-toolchain" tabindex="-1">TinyC Toolchain <a class="header-anchor" href="#tinyc-toolchain" aria-label="Permalink to &quot;TinyC Toolchain&quot;">​</a></h4><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> xmake</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> f</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --toolchain=tinyc</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> xmake</span></span></code></pre></div><p>!&gt; In the Releases directory, we also provide a special xmake-tinyc-vX.X.X.win32.exe installation package, built-in tinyc tool chain, without relying on msvc, you can also compile c code, out of the box use without dependencies.</p><h4 id="emcc-tool-chain" tabindex="-1">Emcc tool chain <a class="header-anchor" href="#emcc-tool-chain" aria-label="Permalink to &quot;Emcc tool chain&quot;">​</a></h4><p>Usually only need to switch to the Wasm platform, which has built-in emcc toolchain, and additionally adjusts the extension of the target program to <code>*.html</code> and output <code>*.wasm</code>.</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> xmake</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> f</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -p</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> wasm</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> xmake</span></span></code></pre></div><p>However, we can also switch directly to the emcc toolchain, but the suffix name will not be modified.</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> xmake</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> f</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --toolchain=emcc</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> xmake</span></span></code></pre></div><h4 id="intel-c-compiler-tool-chain" tabindex="-1">Intel C++ Compiler Tool Chain <a class="header-anchor" href="#intel-c-compiler-tool-chain" aria-label="Permalink to &quot;Intel C++ Compiler Tool Chain&quot;">​</a></h4><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> xmake</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> f</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --toolchain=icc</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> xmake</span></span></code></pre></div><h4 id="intel-fortran-compilation-tool-chain" tabindex="-1">Intel Fortran Compilation Tool Chain <a class="header-anchor" href="#intel-fortran-compilation-tool-chain" aria-label="Permalink to &quot;Intel Fortran Compilation Tool Chain&quot;">​</a></h4><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> xmake</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> f</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --toolchain=ifort</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> xmake</span></span></code></pre></div><h3 id="common-cross-compilation-configuration" tabindex="-1">Common Cross-compilation configuration <a class="header-anchor" href="#common-cross-compilation-configuration" aria-label="Permalink to &quot;Common Cross-compilation configuration&quot;">​</a></h3><table tabindex="0"><thead><tr><th>Configuration Option</th><th>Description</th></tr></thead><tbody><tr><td><a href="#-sdk">--sdk</a></td><td>Set the sdk root directory of toolchains</td></tr><tr><td><a href="#-bin">--bin</a></td><td>Set the <code>bin</code> directory of toolchains</td></tr><tr><td><a href="#-cross">--cross</a></td><td>Set the prefix of compilation tools</td></tr><tr><td><a href="#-as">--as</a></td><td>Set <code>asm</code> assembler</td></tr><tr><td><a href="#-cc">--cc</a></td><td>Set <code>c</code> compiler</td></tr><tr><td><a href="#-cxx">--cxx</a></td><td>Set <code>c++</code> compiler</td></tr><tr><td><a href="#-mm">--mm</a></td><td>Set <code>objc</code> compiler</td></tr><tr><td><a href="#-mxx">--mxx</a></td><td>Set <code>objc++</code> compiler</td></tr><tr><td><a href="#-sc">--sc</a></td><td>Set <code>swift</code> compiler</td></tr><tr><td><a href="#-gc">--gc</a></td><td>Set <code>golang</code> compiler</td></tr><tr><td><a href="#-dc">--dc</a></td><td>Set <code>dlang</code> compiler</td></tr><tr><td><a href="#-rc">--rc</a></td><td>Set <code>rust</code> compiler</td></tr><tr><td><a href="#-cu">--cu</a></td><td>Set <code>cuda</code> compiler</td></tr><tr><td><a href="#-ld">--ld</a></td><td>Set <code>c/c++/objc/asm</code> linker</td></tr><tr><td><a href="#-sh">--sh</a></td><td>Set <code>c/c++/objc/asm</code> shared library linker</td></tr><tr><td><a href="#-ar">--ar</a></td><td>Set <code>c/c++/objc/asm</code> static library archiver</td></tr><tr><td><a href="#-scld">--scld</a></td><td>Set <code>swift</code> linker</td></tr><tr><td><a href="#-scsh">--scsh</a></td><td>Set <code>swift</code> shared library linker</td></tr><tr><td><a href="#-gcld">--gcld</a></td><td>Set <code>golang</code> linker</td></tr><tr><td><a href="#-gcar">--gcar</a></td><td>Set <code>golang</code> static library archiver</td></tr><tr><td><a href="#-dcld">--dcld</a></td><td>Set <code>dlang</code> linker</td></tr><tr><td><a href="#-dcsh">--dcsh</a></td><td>Set <code>dlang</code> shared library linker</td></tr><tr><td><a href="#-dcar">--dcar</a></td><td>Set <code>dlang</code> static library archiver</td></tr><tr><td><a href="#-rcld">--rcld</a></td><td>Set <code>rust</code> linker</td></tr><tr><td><a href="#-rcsh">--rcsh</a></td><td>Set <code>rust</code> shared library linker</td></tr><tr><td><a href="#-rcar">--rcar</a></td><td>Set <code>rust</code> static library archiver</td></tr><tr><td><a href="#-cu-ccbin">--cu-ccbin</a></td><td>Set <code>cuda</code> host compiler</td></tr><tr><td><a href="#-culd">--culd</a></td><td>Set <code>cuda</code> linker</td></tr><tr><td><a href="#-asflags">--asflags</a></td><td>Set <code>asm</code> assembler option</td></tr><tr><td><a href="#-cflags">--cflags</a></td><td>Set <code>c</code> compiler option</td></tr><tr><td><a href="#-cxflags">--cxflags</a></td><td>Set <code>c/c++</code> compiler option</td></tr><tr><td><a href="#-cxxflags">--cxxflags</a></td><td>Set <code>c++</code> compiler option</td></tr><tr><td><a href="#-mflags">--mflags</a></td><td>Set <code>objc</code> compiler option</td></tr><tr><td><a href="#-mxflags">--mxflags</a></td><td>Set <code>objc/c++</code> compiler option</td></tr><tr><td><a href="#-mxxflags">--mxxflags</a></td><td>Set <code>objc++</code> compiler option</td></tr><tr><td><a href="#-scflags">--scflags</a></td><td>Set <code>swift</code> compiler option</td></tr><tr><td><a href="#-gcflags">--gcflags</a></td><td>Set <code>golang</code> compiler option</td></tr><tr><td><a href="#-dcflags">--dcflags</a></td><td>Set <code>dlang</code> compiler option</td></tr><tr><td><a href="#-rcflags">--rcflags</a></td><td>Set <code>rust</code> compiler option</td></tr><tr><td><a href="#-cuflags">--cuflags</a></td><td>Set <code>cuda</code> compiler option</td></tr><tr><td><a href="#-ldflags">--ldflags</a></td><td>Set linker option</td></tr><tr><td><a href="#-shflags">--shflags</a></td><td>Set shared library linker option</td></tr><tr><td><a href="#-arflags">--arflags</a></td><td>Set static library archiver option</td></tr></tbody></table><p class="tip"> if you want to known more options, please run: \`xmake f --help\`。 </p><h4 id="sdk" tabindex="-1">--sdk <a class="header-anchor" href="#sdk" aria-label="Permalink to &quot;--sdk&quot;">​</a></h4><ul><li>Set the sdk root directory of toolchains</li></ul><p>xmake provides a convenient and flexible cross-compiling support. In most cases, we need not to configure complex toolchains prefix, for example: <code>arm-linux-</code></p><p>As long as this toolchains meet the following directory structure:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>/home/toolchains_sdkdir</span></span>
<span class="line"><span>   - bin</span></span>
<span class="line"><span>       - arm-linux-gcc</span></span>
<span class="line"><span>       - arm-linux-ld</span></span>
<span class="line"><span>       - ...</span></span>
<span class="line"><span>   - lib</span></span>
<span class="line"><span>       - libxxx.a</span></span>
<span class="line"><span>   - include</span></span>
<span class="line"><span>       - xxx.h</span></span></code></pre></div><p>Then，we can only configure the sdk directory and build it.</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> xmake</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> f</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -p</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> linux</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --sdk=/home/toolchains_sdkdir</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> xmake</span></span></code></pre></div><p>Xmake will detect the prefix: arm-linux- and add the include and library search directory automatically.</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>-I/home/toolchains_sdkdir/include -L/home/toolchains_sdkdir/lib</span></span></code></pre></div><h4 id="bin" tabindex="-1">--bin <a class="header-anchor" href="#bin" aria-label="Permalink to &quot;--bin&quot;">​</a></h4><ul><li>Set the <code>bin</code> directory of toolchains</li></ul><p>We need set it manually if the toolchains /bin directory is in other places, for example:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> xmake</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> f</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -p</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> linux</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --sdk=/home/toolchains_sdkdir</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --bin=/usr/opt/bin</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> xmake</span></span></code></pre></div><p class="tip"> Before v2.2.1 version, this parameter name is \`--toolchains\`, exists more ambiguous, so we changed to \`--bin=\` to set the bin directory. </p><h4 id="cross" tabindex="-1">--cross <a class="header-anchor" href="#cross" aria-label="Permalink to &quot;--cross&quot;">​</a></h4><ul><li>Set the prefix of compilation tools</li></ul><p>For example, under the same toolchains directory at the same time, there are two different compilers:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>/opt/bin</span></span>
<span class="line"><span> - armv7-linux-gcc</span></span>
<span class="line"><span> - aarch64-linux-gcc</span></span></code></pre></div><p>If we want to use the <code>armv7-linux-gcc</code> compiler, we can run the following command:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> xmake</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> f</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -p</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> linux</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --sdk=/usr/toolsdk</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --bin=/opt/bin</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --cross=armv7-linux-</span></span></code></pre></div><h4 id="as" tabindex="-1">--as <a class="header-anchor" href="#as" aria-label="Permalink to &quot;--as&quot;">​</a></h4><ul><li>Set <code>asm</code> assembler</li></ul><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> xmake</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> f</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -p</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> linux</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --sdk=/user/toolsdk</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --as=armv7-linux-as</span></span></code></pre></div><p>If the &#39;AS&#39; environment variable exists, it will use the values specified in the current environment variables.</p><p class="tip"> We can set a unknown compiler as like-gcc/clang compiler, .e.g \`xmake f --as=gcc@/home/xxx/asmips.exe\` </p><h4 id="cc" tabindex="-1">--cc <a class="header-anchor" href="#cc" aria-label="Permalink to &quot;--cc&quot;">​</a></h4><ul><li>Set c compiler</li></ul><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> xmake</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> f</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -p</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> linux</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --sdk=/user/toolsdk</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --cc=armv7-linux-clang</span></span></code></pre></div><p>If the &#39;CC&#39; environment variable exists, it will use the values specified in the current environment variables.</p><p class="tip"> We can set a unknown compiler as like-gcc/clang compiler, .e.g \`xmake f --cc=gcc@/home/xxx/ccmips.exe\` </p><h4 id="cxx" tabindex="-1">--cxx <a class="header-anchor" href="#cxx" aria-label="Permalink to &quot;--cxx&quot;">​</a></h4><ul><li>Set <code>c++</code> compiler</li></ul><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> xmake</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> f</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -p</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> linux</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --sdk=/user/toolsdk</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --cxx=armv7-linux-clang++</span></span></code></pre></div><p>If the &#39;CXX&#39; environment variable exists, it will use the values specified in the current environment variables.</p><p class="tip"> We can set a unknown compiler as like-gcc/clang compiler, .e.g \`xmake f --cxx=g++@/home/xxx/c++mips.exe\` </p><h4 id="ld" tabindex="-1">--ld <a class="header-anchor" href="#ld" aria-label="Permalink to &quot;--ld&quot;">​</a></h4><ul><li>Set <code>c/c++/objc/asm</code> linker</li></ul><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> xmake</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> f</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -p</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> linux</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --sdk=/user/toolsdk</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --ld=armv7-linux-clang++</span></span></code></pre></div><p>If the &#39;LD&#39; environment variable exists, it will use the values specified in the current environment variables.</p><p class="tip"> We can set a unknown compiler as like-gcc/clang linker, .e.g \`xmake f --ld=g++@/home/xxx/c++mips.exe\` </p><h4 id="sh" tabindex="-1">--sh <a class="header-anchor" href="#sh" aria-label="Permalink to &quot;--sh&quot;">​</a></h4><ul><li>Set <code>c/c++/objc/asm</code> shared library linker</li></ul><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> xmake</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> f</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -p</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> linux</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --sdk=/user/toolsdk</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --sh=armv7-linux-clang++</span></span></code></pre></div><p>If the &#39;SH&#39; environment variable exists, it will use the values specified in the current environment variables.</p><p class="tip"> We can set a unknown compiler as like-gcc/clang linker, .e.g \`xmake f --sh=g++@/home/xxx/c++mips.exe\` </p><h4 id="ar" tabindex="-1">--ar <a class="header-anchor" href="#ar" aria-label="Permalink to &quot;--ar&quot;">​</a></h4><ul><li>Set <code>c/c++/objc/asm</code> static library archiver</li></ul><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> xmake</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> f</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -p</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> linux</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --sdk=/user/toolsdk</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --ar=armv7-linux-ar</span></span></code></pre></div><p>If the &#39;AR&#39; environment variable exists, it will use the values specified in the current environment variables.</p><p class="tip"> We can set a unknown compiler as like-ar archiver, .e.g \`xmake f --ar=ar@/home/xxx/armips.exe\` </p><h2 id="global-configuration" tabindex="-1">Global Configuration <a class="header-anchor" href="#global-configuration" aria-label="Permalink to &quot;Global Configuration&quot;">​</a></h2><p>You can save to the global configuration for simplfying operation.</p><p>For example:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> xmake</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> g</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --ndk=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">~</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">/files/android-ndk-r10e/</span></span></code></pre></div><p>Now, we config and build project for android again.</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> xmake</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> f</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -p</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> android</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> xmake</span></span></code></pre></div><p class="tip"> You can use short or long command option, for example: \`xmake g\` or \`xmake global\`.<br></p><h2 id="clean-configuration" tabindex="-1">Clean Configuration <a class="header-anchor" href="#clean-configuration" aria-label="Permalink to &quot;Clean Configuration&quot;">​</a></h2><p>We can clean all cached configuration and re-configure project.</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> xmake</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> f</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -c</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> xmake</span></span></code></pre></div><p>or</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> xmake</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> f</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -p</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> iphoneos</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -c</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> xmake</span></span></code></pre></div><h2 id="import-and-export-configuration" tabindex="-1">Import and export configuration <a class="header-anchor" href="#import-and-export-configuration" aria-label="Permalink to &quot;Import and export configuration&quot;">​</a></h2><p>After 2.5.5, we can also import and export the configured configuration set to facilitate rapid configuration migration.</p><h3 id="export-configuration" tabindex="-1">Export configuration <a class="header-anchor" href="#export-configuration" aria-label="Permalink to &quot;Export configuration&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> xmake</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> f</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --export=/tmp/config.txt</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> xmake</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> f</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -m</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> debug</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --xxx=y</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --export=/tmp/config.txt</span></span></code></pre></div><h3 id="import-configuration" tabindex="-1">Import configuration <a class="header-anchor" href="#import-configuration" aria-label="Permalink to &quot;Import configuration&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> xmake</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> f</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --import=/tmp/config.txt</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> xmake</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> f</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -m</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> debug</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --xxx=y</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --import=/tmp/config.txt</span></span></code></pre></div><h3 id="export-configuration-with-menu" tabindex="-1">Export configuration (with menu) <a class="header-anchor" href="#export-configuration-with-menu" aria-label="Permalink to &quot;Export configuration (with menu)&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> xmake</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> f</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --menu</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --export=/tmp/config.txt</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> xmake</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> f</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --menu</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -m</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> debug</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --xxx=y</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --export=/tmp/config.txt</span></span></code></pre></div><h3 id="import-configuration-with-menu" tabindex="-1">Import configuration (with menu) <a class="header-anchor" href="#import-configuration-with-menu" aria-label="Permalink to &quot;Import configuration (with menu)&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> xmake</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> f</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --menu</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --import=/tmp/config.txt</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> xmake</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> f</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --menu</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -m</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> debug</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --xxx=y</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --import=/tmp/config.txt</span></span></code></pre></div><h2 id="environment-variables" tabindex="-1">Environment variables <a class="header-anchor" href="#environment-variables" aria-label="Permalink to &quot;Environment variables&quot;">​</a></h2><p>We can execute the following command to get all the environment variables used by xmake and the currently set values.</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> xmake</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> show</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -l</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> envs</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">XMAKE_RAMDIR</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Set</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> the</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ramdisk</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> directory.</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">                        &lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">empty</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">XMAKE_GLOBALDIR</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Set</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> the</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> global</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> config</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> directory</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> of</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> xmake.</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">                        /Users/ruki/.xmake</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">XMAKE_ROOT</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Allow</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> xmake</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> to</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> run</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> under</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> root.</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">                        &lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">empty</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">XMAKE_COLORTERM</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Set</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> the</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> color</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> terminal</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> environment.</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">                        &lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">empty</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">XMAKE_PKG_INSTALLDIR</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Set</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> the</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> directory</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> of</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> packages.</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">                        &lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">empty</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">XMAKE_TMPDIR</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Set</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> the</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> temporary</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> directory.</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">                        /var/folders/vn/ppcrrcm911v8b4510klg9xw80000gn/T/.xmake501/211104</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">XMAKE_PKG_CACHEDIR</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Set</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> the</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> cache</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> directory</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> of</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> packages.</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">                        &lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">empty</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">XMAKE_PROGRAM_DIR</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Set</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> the</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> program</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> scripts</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> directory</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> of</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> xmake.</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">                        /Users/ruki/.local/share/xmake</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">XMAKE_PROFILE</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Start</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> profiler,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> e.g.</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> perf,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> trace.</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">                        &lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">empty</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">XMAKE_RCFILES</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Set</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> the</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> runtime</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> configuration</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> files.</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">XMAKE_CONFIGDIR</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Set</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> the</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> local</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> config</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> directory</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> of</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> project.</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">                        /Users/ruki/projects/personal/xmake-docs/.xmake/macosx/x86_64</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">XMAKE_LOGFILE</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Set</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> the</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> log</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> output</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> file</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> path.</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">                        &lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">empty</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span></code></pre></div><h3 id="xmake-ramdir" tabindex="-1">XMAKE_RAMDIR <a class="header-anchor" href="#xmake-ramdir" aria-label="Permalink to &quot;XMAKE_RAMDIR&quot;">​</a></h3><ul><li>Set the ramdisk directory path</li></ul><p>The ramdisk directory is the directory location of the memory file system. Usually the <code>os.tmpdir()</code> interface will use the temporary files used by xmake. If the user sets the ramdisk path, it will be stored in this first to improve the overall compilation speed.</p><h3 id="xmake-tmpdir" tabindex="-1">XMAKE_TMPDIR <a class="header-anchor" href="#xmake-tmpdir" aria-label="Permalink to &quot;XMAKE_TMPDIR&quot;">​</a></h3><ul><li>Set the user&#39;s temporary directory</li></ul><p>By default, xmake will use <code>/tmp/.xmake</code> and <code>%TEMP%/.xmake</code>. Of course, users can modify the default path through this variable.</p><h3 id="xmake-configdir" tabindex="-1">XMAKE_CONFIGDIR <a class="header-anchor" href="#xmake-configdir" aria-label="Permalink to &quot;XMAKE_CONFIGDIR&quot;">​</a></h3><ul><li>Set local project configuration directory</li></ul><p>The local compilation configuration of each project will be stored in the <code>.xmake</code> path in the root directory of the current project by default, and then differentiated according to different platforms and architectures, for example:</p><div class="language-console vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">console</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">.xmake/macosx/x86_64</span></span></code></pre></div><p>If we don&#39;t want to store it in the root directory of the project, we can also set it to other paths ourselves, such as the build directory and so on.</p><h3 id="xmake-globaldir" tabindex="-1">XMAKE_GLOBALDIR <a class="header-anchor" href="#xmake-globaldir" aria-label="Permalink to &quot;XMAKE_GLOBALDIR&quot;">​</a></h3><ul><li>Set the root directory of the global configuration file</li></ul><p>That is, the storage directory of the global configuration of <code>xmake g/global</code>, as well as other global files such as installation packages, caches, etc., will be stored in this directory by default.</p><p>The default path is: <code>~/.xmake</code>.</p><h3 id="xmake-root" tabindex="-1">XMAKE_ROOT <a class="header-anchor" href="#xmake-root" aria-label="Permalink to &quot;XMAKE_ROOT&quot;">​</a></h3><p>-Allow users to run in root mode</p><p>Usually xmake is forbidden to run under root by default, which is very insecure. But if the user has to run under root, he can also set this variable to force it on.</p><div class="language-console vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">console</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">export XMAKE_ROOT=y</span></span></code></pre></div><h3 id="xmake-colorterm" tabindex="-1">XMAKE_COLORTERM <a class="header-anchor" href="#xmake-colorterm" aria-label="Permalink to &quot;XMAKE_COLORTERM&quot;">​</a></h3><ul><li>Set the color output of Terminal</li></ul><p>Currently, these values ​​can be set:</p><table tabindex="0"><thead><tr><th>Value</th><th>Description</th></tr></thead><tbody><tr><td>nocolor</td><td>Disable color output</td></tr><tr><td>color8</td><td>8-color output support</td></tr><tr><td>color256</td><td>256 color output support</td></tr><tr><td>truecolor</td><td>True color output support</td></tr></tbody></table><p>Generally, users don&#39;t need to set them, Xmake will automatically detect the color range supported by the user terminal. If the user doesn&#39;t want to output colors, they can set nocolor to disable them globally.</p><p>Or use <code>xmake g --theme=plain</code> to disable it globally.</p><h3 id="xmake-pkg-installdir" tabindex="-1">XMAKE_PKG_INSTALLDIR <a class="header-anchor" href="#xmake-pkg-installdir" aria-label="Permalink to &quot;XMAKE_PKG_INSTALLDIR&quot;">​</a></h3><ul><li>Set the installation root directory of the dependent package</li></ul><p>The default global directory for xmake&#39;s remote package installation is <code>~/.xmake/packages</code>, but users can also set this variable to modify it individually.</p><p>We can also use <code>xmake g --pkg_installdir=/xxx</code> to set it, the effect is the same.</p><h3 id="xmake-pkg-cachedir" tabindex="-1">XMAKE_PKG_CACHEDIR <a class="header-anchor" href="#xmake-pkg-cachedir" aria-label="Permalink to &quot;XMAKE_PKG_CACHEDIR&quot;">​</a></h3><ul><li>Set the cache directory of dependent packages</li></ul><p>The default path is in the <code>~/.xmake/cache</code> directory, which stores various cache files during the package installation process, which takes up more storage space, and the user can also set it separately.</p><p>Of course, Xmake will automatically clean up all cache files of the previous month every month.</p><h3 id="xmake-program-dir" tabindex="-1">XMAKE_PROGRAM_DIR <a class="header-anchor" href="#xmake-program-dir" aria-label="Permalink to &quot;XMAKE_PROGRAM_DIR&quot;">​</a></h3><ul><li>Set the script directory of Xmake</li></ul><p>All lua scripts of Xmake are installed with the installer. By default, they are in the installation directory. However, if you want to switch to the script directory you downloaded to facilitate local modification and debugging, you can set the this variable.</p><p>If you want to view the script directory currently used by Xmake, you can execute:</p><div class="language-console vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">console</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$ xmake l os.programdir</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">/Users/ruki/.local/share/xmake</span></span></code></pre></div><h3 id="xmake-profile" tabindex="-1">XMAKE_PROFILE <a class="header-anchor" href="#xmake-profile" aria-label="Permalink to &quot;XMAKE_PROFILE&quot;">​</a></h3><p>-Turn on performance analysis</p><p>This is only open to the developers of Xmake, and is used to analyze the time-consuming situation of Xmake running and track the calling process.</p><p>It has two modes, a performance analysis mode, which displays the time-consuming order of each function.</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> XMAKE_PROFILE=perf</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> xmake</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[25%]: cache compiling.release src/main.cpp</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[50%]: linking.release test</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[100%]: build ok</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">!</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> 0.238,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 97.93%,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 1,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> runloop:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> @programdir/core/base/scheduler.lua:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 805</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> 0.180,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 74.04%,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 25,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> _resume:</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [C]: -1</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> 0.015,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 6.34%,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 50,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> _co_groups_resume:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> @programdir/core/base/scheduler.lua:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 299</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> 0.011,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 4.37%,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 48,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> wait:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> @programdir/core/base/poller.lua:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 111</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> 0.004,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 1.70%,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 62,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> status:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> @programdir/core/base/scheduler.lua:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 71</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> 0.004,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 1.53%,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 38,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> is_dead:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> @programdir/core/base/scheduler.lua:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 76</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> 0.003,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 1.44%,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 50,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> next:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> @programdir/core/base/timer.lua:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 74</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> 0.003,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 1.33%,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 48,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> delay:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> @programdir/core/base/timer.lua:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 60</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> 0.002,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 1.02%,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 24,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> is_suspended:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> @programdir/core/base/scheduler.lua:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 86</span></span></code></pre></div><p>The other is to track the running process of Xmake:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> XMAKE_PROFILE=trace</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> xmake</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">func:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> @programdir/core/base/scheduler.lua:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 457</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">is_suspended:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> @programdir/core/base/scheduler.lua:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 86</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">status:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> @programdir/core/base/scheduler.lua:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 71</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">thread:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> @programdir/core/base/scheduler.lua:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 66</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">thread:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> @programdir/core/base/scheduler.lua:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 66</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">length:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> @programdir/core/base/heap.lua:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 120</span></span></code></pre></div><h3 id="xmake-rcfiles" tabindex="-1">XMAKE_RCFILES <a class="header-anchor" href="#xmake-rcfiles" aria-label="Permalink to &quot;XMAKE_RCFILES&quot;">​</a></h3><ul><li>Set up a global configuration file</li></ul><p>We can set up some <code>xmakerc.lua</code> global configuration files, and introduce them globally when users compile the project, such as global introduction of some user-defined help scripts, tool chains and so on.</p><div class="language-console vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">console</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$ </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> XMAKE_RCFILES</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">xmakerc.lua</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$ xmake</span></span></code></pre></div><p>If not set, the default path is: <code>~/.xmake/xmakerc.lua</code>.</p><h3 id="xmake-logfile" tabindex="-1">XMAKE_LOGFILE <a class="header-anchor" href="#xmake-logfile" aria-label="Permalink to &quot;XMAKE_LOGFILE&quot;">​</a></h3><ul><li>Set the log file path</li></ul><p>By default, Xmake will echo the output to the terminal. We can turn on the automatic log storage to the specified file by setting this path, but it will not affect the normal echo output of the terminal.</p><h3 id="xmake-main-repo" tabindex="-1">XMAKE_MAIN_REPO <a class="header-anchor" href="#xmake-main-repo" aria-label="Permalink to &quot;XMAKE_MAIN_REPO&quot;">​</a></h3><ul><li>Set the official package master warehouse address</li></ul><p>Xmake has built-in three main warehouse addresses by default, they are exactly the same, Xmake will choose the best address to use according to the current network status.</p><ol><li><a href="https://github.com/xmake-io/xmake-repo.git" target="_blank" rel="noreferrer">https://github.com/xmake-io/xmake-repo.git</a></li><li><a href="https://gitlab.com/tboox/xmake-repo.git" target="_blank" rel="noreferrer">https://gitlab.com/tboox/xmake-repo.git</a></li><li><a href="https://gitee.com/tboox/xmake-repo.git" target="_blank" rel="noreferrer">https://gitee.com/tboox/xmake-repo.git</a></li></ol><p>However, if Xmake chooses the wrong one, it may cause the warehouse download to fail. Through this environment variable, we can set and use the specified warehouse address by ourselves instead of automatically selecting it.</p><div class="language-console vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">console</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$ </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> XMAKE_MAIN_REPO</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">https://github.com/xmake-io/xmake-repo.git</span></span></code></pre></div><h3 id="xmake-binary-repo" tabindex="-1">XMAKE_BINARY_REPO <a class="header-anchor" href="#xmake-binary-repo" aria-label="Permalink to &quot;XMAKE_BINARY_REPO&quot;">​</a></h3><ul><li>Set the official package pre-compiled warehouse address</li></ul><p>Similar to <code>XMAKE_MAIN_REPO</code>, the only difference is that this is used to switch the address of the pre-compiled warehouse.</p><div class="language-console vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">console</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$ </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> XMAKE_BINARY_REPO</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">https://github.com/xmake-mirror/build-artifacts.git</span></span></code></pre></div><h3 id="xmake-theme" tabindex="-1">XMAKE_THEME <a class="header-anchor" href="#xmake-theme" aria-label="Permalink to &quot;XMAKE_THEME&quot;">​</a></h3><ul><li>Set theme</li></ul><p>Usually we can set the color theme through <code>xmake g --theme=plain</code>, but it is global. If we want to set the current terminal session individually, we can use this environment variable to set it.</p><div class="language-console vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">console</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$ </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> XMAKE_THEME</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">plain</span></span></code></pre></div><h3 id="xmake-stats" tabindex="-1">XMAKE_STATS <a class="header-anchor" href="#xmake-stats" aria-label="Permalink to &quot;XMAKE_STATS&quot;">​</a></h3><ul><li>Enable or disable user statistics</li></ul><p>Since Xmake is still in the early stages of development, we need to know the approximate user growth in order to provide us with the motivation to continue to update Xmake. Therefore, Xmake defaults to the first project build every day, and it will automatically git clone an empty warehouse in the background process: <a href="https://github.com/xmake-io/xmake-stats" target="_blank" rel="noreferrer">https://github.com/xmake-io/xmake-stats</a></p><p>Then borrow the Traffic statistics chart provided by github itself to get the approximate number of users.</p><p>For each project, we will only count once a day, and will not disclose any user privacy, because there is only one additional git clone operation. In addition, we cloned an empty warehouse, which will not consume much user traffic. Of course, not every user wants to do this, user has right to disable this behavior, we only need to set:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> XMAKE_STATS</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">false</span></span></code></pre></div><p>It can be completely disabled, and we will also automatically disable this behavior on ci.</p><p>When will it be removed?</p><p>This behavior will not exist forever. When Xmake has enough users, or there are other better statistical methods, we will consider removing the relevant statistical code. Of course, if a lot of user feedback is unwilling to accept it, we will also consider removing it.</p><p>For related issues about this, see <a href="https://github.com/xmake-io/xmake/issues/1795" target="_blank" rel="noreferrer">#1795</a> and <a href="https://github.com/xmake-io/xmake/discussions/1802" target="_blank" rel="noreferrer">#1803</a>.</p>`,330)]))}const F=i(n,[["render",l]]);export{c as __pageData,F as default};
